// AUTOGENERATED FROM https://github.com/vuejs/eslint-plugin-vue/blob/8f094200664a2b10bc597016f5486066a174e098/tests/lib/rules/singleline-html-element-content-newline.js @2022-03-19T14:17:43.786Z
/**
 * @author Yosuke Ota
 */
'use strict'

// ------------------------------------------------------------------------------
// Requirements
// ------------------------------------------------------------------------------

const path = require('path')
const rule = require('../../fixtures/eslint-plugin-vue/lib/rules/singleline-html-element-content-newline')
const RuleTester = require('eslint').RuleTester

// ------------------------------------------------------------------------------
// Tests
// ------------------------------------------------------------------------------

const tester = new RuleTester({
  parser: require.resolve('vue-eslint-parser'),
  parserOptions: { 
    ecmaVersion: 2015
  , templateTokenizer: { pug: path.resolve(__dirname, '../../../')}}
})

tester.run('singleline-html-element-content-newline', rule, {
  valid: [
    `
      <template lang="pug">slot(name="panel")</template>`,
    `
      <template lang="pug">.panel content</template>`,
    `
      <template lang="pug">
.panel
  div
</template>`,
    `
      <template lang="pug">
.panel
  // comment
</template>`,
    `
      <template lang="pug">div content</template>`,
    `
      <template lang="pug">
div
  div
</template>`,
    `
      <template lang="pug">
div
  // comment
</template>`,
    `
      <template lang="pug">a(href="/") Home</template>`,
    `
      <template lang="pug">
form
  label(for="test") Home
  input#test(name="test")
</template>`,

    // ignoreWhenNoAttributes: true
    `
      <template lang="pug">div singleline content</template>`,
    `
      <template lang="pug">
tr
  td singleline
  td children
</template>`,
    `
      <template lang="pug">
div
  // singleline comment
</template>`,
    `
      <template lang="pug">div singleline element</template>`,
    `
      <template lang="pug">div</template>`,
    `
      <template lang="pug">div</template>`,

    // ignoreWhenNoAttributes: false
    {
      code: `
      <template lang="pug">div content</template>`,
      options: [{ ignoreWhenNoAttributes: false }]
    },
    {
      code: `
      <template lang="pug">
div
  div
</template>`,
      options: [{ ignoreWhenNoAttributes: false }]
    },
    {
      code: `
      <template lang="pug">
div
  // comment
</template>`,
      options: [{ ignoreWhenNoAttributes: false }]
    },
    // self closing
    `
      <template lang="pug">self-closing</template>`,
    // ignores
    `
      <template lang="pug">
pre content
pre(attr) content
pre
  span(attr) content
textarea content
textarea(attr) content
textarea &lt;span attr&gt;content&lt;/span&gt;
</template>`,
    {
      code: `
        <template lang="pug">
ignore-tag content
ignore-tag(attr) content
ignore-tag
  span(attr) content
</template>`,
      options: [
        {
          ignores: ['ignore-tag']
        }
      ]
    },
    {
      code: `
        <template lang="pug">
IgnoreTag content
IgnoreTag(attr) content
IgnoreTag
  span(attr) content
</template>`,
      options: [
        {
          ignores: ['IgnoreTag']
        }
      ]
    },
    {
      code: `
        <template lang="pug">
ignore-tag content
ignore-tag(attr) content
ignore-tag
  span(attr) content
</template>`,
      options: [
        {
          ignores: ['IgnoreTag']
        }
      ]
    },
    // not target
    `
      <template lang="pug">div content</template>`,
    `
      <template lang="pug">div content</template>`,
    // Ignore if no closing brackets
    `<!-- CONVERT ERROR -->Unexpected EOF in tag.
<!-- CONVERT ERROR -->Duplicate attribute.      <template>
        <div
          id=
          ""
    `
  ],
  invalid: [
    {
      code: `
        <template lang="pug">.panel content</template>`,
      output: `
        <template lang="pug">.panel content</template>`,
      errors: [
        {
          message:
            'Expected 1 line break after opening tag (`<div>`), but no line breaks found.',
          line: 3,
          column: 30,
          type: 'HTMLTagClose',
          endLine: 3,
          endColumn: 30
        },
        {
          message:
            'Expected 1 line break before closing tag (`</div>`), but no line breaks found.',
          line: 3,
          column: 37,
          type: 'HTMLEndTagOpen',
          endLine: 3,
          endColumn: 37
        }
      ]
    },
    {
      code: `
        <template lang="pug">
tr(attr)
  td singleline
  td children
</template>`,
      output: `
        <template lang="pug">
tr(attr)
  td singleline
  td children
</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<tr>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</tr>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">
div(attr)
  // singleline comment
</template>`,
      output: `
        <template lang="pug">
div(attr)
  // singleline comment
</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">
div(attr)
  // singleline
  // comments
</template>`,
      output: `
        <template lang="pug">
div(attr)
  // singleline
  // comments
</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">div(attr) content</template>`,
      output: `
        <template lang="pug">div(attr) content</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">div(attr) content</template>`,
      output: `
        <template lang="pug">div(attr) content</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">div(attr)</template>`,
      output: `
        <template lang="pug">div(attr)</template>`,
      options: [{ ignoreWhenEmpty: false }],
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">div(attr)</template>`,
      output: `
        <template lang="pug">div(attr)</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">div singleline content</template>`,
      options: [{ ignoreWhenNoAttributes: false }],
      output: `
        <template lang="pug">div singleline content</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">
tr
  td singleline
  td children
</template>`,
      options: [{ ignoreWhenNoAttributes: false }],
      output: `
        <template lang="pug">
tr
  td singleline
  td children
</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<tr>`), but no line breaks found.',
        'Expected 1 line break after opening tag (`<td>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</td>`), but no line breaks found.',
        'Expected 1 line break after opening tag (`<td>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</td>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</tr>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">
div
  // singleline comment
</template>`,
      options: [{ ignoreWhenNoAttributes: false }],
      output: `
        <template lang="pug">
div
  // singleline comment
</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">div singleline element</template>`,
      options: [{ ignoreWhenNoAttributes: false }],
      output: `
        <template lang="pug">div singleline element</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">div</template>`,
      options: [{ ignoreWhenEmpty: false, ignoreWhenNoAttributes: false }],
      output: `
        <template lang="pug">div</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">div</template>`,
      options: [{ ignoreWhenEmpty: false, ignoreWhenNoAttributes: false }],
      output: `
        <template lang="pug">div</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<div>`), but no line breaks found.'
      ]
    },
    {
      code: `
        <template lang="pug">Div.panel content</template>`,
      output: `
        <template lang="pug">Div.panel content</template>`,
      errors: [
        'Expected 1 line break after opening tag (`<Div>`), but no line breaks found.',
        'Expected 1 line break before closing tag (`</Div>`), but no line breaks found.'
      ]
    }
  ]
})
