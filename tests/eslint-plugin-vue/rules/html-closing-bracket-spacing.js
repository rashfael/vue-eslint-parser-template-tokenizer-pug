// AUTOGENERATED FROM https://github.com/vuejs/eslint-plugin-vue/blob/8f094200664a2b10bc597016f5486066a174e098/tests/lib/rules/html-closing-bracket-spacing.js @2022-03-19T13:08:36.605Z
/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 */

'use strict'

// -----------------------------------------------------------------------------
// Requirements
// -----------------------------------------------------------------------------

const RuleTester = require('eslint').RuleTester
const path = require('path')
const rule = require('../../fixtures/eslint-plugin-vue/lib/rules/html-closing-bracket-spacing')

// -----------------------------------------------------------------------------
// Tests
// -----------------------------------------------------------------------------

const ruleTester = new RuleTester({
  parser: require.resolve('vue-eslint-parser'),
  parserOptions: {
    ecmaVersion: 2015
  }
})

ruleTester.run('html-closing-bracket-spacing', rule, {
  valid: [
    '',
    `<template lang="pug">
div
div
</template>`,
    `<template lang="pug">
div(foo)
div(foo)
</template>`,
    `<template lang="pug">
div(foo="a")
div(foo="a")
</template>`,
    `<template lang="pug">
div(foo="a")
div(foo="a")
</template>`,
    {
      code: '<template ><div ></div><div /></template>',
      options: [{ startTag: 'always' }]
    },
    {
      code: `<template lang="pug">
div
div
</template >`,
      options: [{ endTag: 'always' }]
    },
    {
      code: `<template lang="pug">
div
div
</template>`,
      options: [{ selfClosingTag: 'never' }]
    },
    `<!-- CONVERT ERROR -->Unexpected EOF in tag.<template><div`,
    `<!-- CONVERT ERROR -->Unexpected EOF in tag.<template><div></div`,
    {
      code: `<!-- CONVERT ERROR -->Unexpected EOF in tag.<template><div`,
      options: [{ startTag: 'never', endTag: 'never' }]
    },
    {
      code: `<!-- CONVERT ERROR -->Unexpected EOF in tag.<template><div></div`,
      options: [{ startTag: 'never', endTag: 'never' }]
    }
  ],
  invalid: [
    {
      code: `<template lang="pug">
| \n
div \n
| \n
div
| \n
</template>`,
      output: `<template lang="pug">
| \n
div \n
| \n
div
| \n
</template>`,
      errors: [
        {
          message: "Expected no space before '>', but found.",
          line: 2,
          column: 7,
          endColumn: 9
        },
        {
          message: "Expected no space before '>', but found.",
          line: 3,
          column: 8,
          endColumn: 10
        },
        {
          message: "Expected a space before '/>', but not found.",
          line: 4,
          column: 7,
          endColumn: 9
        }
      ]
    },
    {
      code: `<template lang="pug">
| \n
div(foo)
| \n
div(foo)
| \n
</template>`,
      output: `<template lang="pug">
| \n
div(foo)
| \n
div(foo)
| \n
</template>`,
      errors: [
        {
          message: "Expected no space before '>', but found.",
          line: 2,
          column: 11,
          endColumn: 13
        },
        {
          message: "Expected a space before '/>', but not found.",
          line: 3,
          column: 11,
          endColumn: 13
        }
      ]
    },
    {
      code: `<template lang="pug">
| \n
div(foo="1")
| \n
div(foo="1")
| \n
</template>`,
      output:
        `<template lang="pug">
| \n
div(foo="1")
| \n
div(foo="1")
| \n
</template>`,
      errors: [
        {
          message: "Expected no space before '>', but found.",
          line: 2,
          column: 15,
          endColumn: 17
        },
        {
          message: "Expected a space before '/>', but not found.",
          line: 3,
          column: 15,
          endColumn: 17
        }
      ]
    },
    {
      code: '<template >\n  <div>\n  </div>\n  <div />\n</template >',
      output: '<template >\n  <div >\n  </div >\n  <div/>\n</template >',
      options: [
        {
          startTag: 'always',
          endTag: 'always',
          selfClosingTag: 'never'
        }
      ],
      errors: [
        {
          message: "Expected a space before '>', but not found.",
          line: 2,
          column: 7,
          endColumn: 8
        },
        {
          message: "Expected a space before '>', but not found.",
          line: 3,
          column: 8,
          endColumn: 9
        },
        {
          message: "Expected no space before '/>', but found.",
          line: 4,
          column: 7,
          endColumn: 10
        }
      ]
    }
  ]
})
